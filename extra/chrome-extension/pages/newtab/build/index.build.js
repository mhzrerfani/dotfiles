(()=>{var O=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var ue=O((un,Te)=>{var xt=(r={},e)=>{let t=[],n=r,i=localStorage.getItem(e);try{if(n=JSON.parse(i),!n)throw new Error}catch{n=r,localStorage.setItem(e,JSON.stringify(n))}let s=()=>{t.forEach(h=>h(n))};return{set:h=>{n=h,localStorage.setItem(e,JSON.stringify(n)),s()},get:()=>n,subscribe:h=>{t.push(h),h(n)}}};Te.exports=xt});var Re=O((hn,Ne)=>{var wt=[{title:"Reddit",link:"reddit.com",icon:"./icons/reddit.png",children:[]},{title:"Github",link:"github.com",icon:"./icons/github.svg",children:[]},{title:"30nama",link:"30nama.com",icon:"./icons/30nama.ico",children:[]},{title:"Youtube",link:"youtube.com",icon:"./icons/youtube.png",children:[]}];Ne.exports={shortcutsDefault:wt}});var te=O((ln,Pe)=>{var At=ue(),{shortcutsDefault:It}=Re(),he=document.querySelector("#shortcuts"),Ot=document.querySelector("#shortcut-template"),$t=document.querySelector("#shortcut-template-with-children"),{get:Ct,set:Tt,subscribe:Fe}=At(It,"shortcuts");Fe(r=>{he.innerHTML="",r.forEach(({title:e,link:t,icon:n,children:i})=>{i.length>0?he.innerHTML+=$t.innerHTML.replace(/%title%/g,e).replace(/%link%/g,t.replace(/^https?:\/\//,"")).replace(/%icon%/g,n).replace(/%children%/g,i.map(s=>`<a href="${s.link}"><img src="./icons/chevron-right.svg" class="icon" /><span>${s.title}</span></a>`).join("")):he.innerHTML+=Ot.innerHTML.replace(/%title%/g,e).replace(/%link%/g,t.replace(/^https?:\/\//,"")).replace(/%icon%/g,n)})});Pe.exports={getShortcuts:Ct,setShortcuts:Tt,subscribeShortcuts:Fe}});var le=O((fn,He)=>{var Nt=ue(),Rt=document.querySelector("#bookmarks"),Ft=document.querySelector("#bookmarks-template-empty"),Pt=document.querySelector("#bookmark-template"),Dt=document.querySelector("#bookmark-template-with-children"),{get:qt,set:De,subscribe:qe}=Nt([],"bookmarks");setTimeout(()=>{chrome.bookmarks.getTree(function(r){let e=We(r);e.every(t=>t.children&&!t.title)&&(e=e.reduce((t,n)=>[...t,...n.children],[])),De(e)})},1e3);qe(r=>Rt.innerHTML=je(r));function je(r){return r?r.length===0?Ft.innerHTML:r.map(e=>e.children===null?Pt.innerHTML.replace(/%title%/g,e.title).replace(/%link%/g,e.link).replace(/%icon%/g,e.iconUrl):Dt.innerHTML.replace(/%title%/g,e.title).replace(/%children%/g,je(e.children))).join(""):""}function We(r){return r.map(function(e){if(e.url)return{id:e.id,title:e.title,link:e.url.startsWith("http")?e.url:"http://"+e.url,iconUrl:"https://s2.googleusercontent.com/s2/favicons?domain="+e.url,children:null};if(e.children)return{title:e.title,id:e.id,children:We(e.children)}})}He.exports={getBookmarks:qt,setBookmarks:De,subscribeBookmarks:qe}});var fe=O((dn,Be)=>{var jt=document.querySelectorAll("[data-tab-container]"),re={};Array.from(jt||[]).forEach(r=>{let e=Array.from(r.querySelectorAll(".tabs button")||[]),t=Array.from(r.querySelectorAll(".tab")||[]);e.forEach(n=>{let i=t.find(s=>s.dataset.tab===n.dataset.tab);if(!i){console.error("no related tab found",n.dataset.tab,r);return}n.addEventListener("click",()=>{e.forEach(s=>s.classList.remove("active")),n.classList.add("active"),t.forEach(s=>s.classList.add("hide")),i.classList.remove("hide"),re[r.dataset.tabContainer]?.[n.dataset.tab]?.()})})});var Wt=(r,e,t)=>{re[r]||(re[r]={}),re[r][e]=t};Be.exports={listenToTab:Wt}});var Ge=O((vn,Ve)=>{var de=document.querySelector("#backdrop"),Ht=r=>()=>{de.classList.remove("hide"),r.classList.remove("hide"),de.addEventListener("click",Ke(r),{once:!0})},Ke=r=>()=>{de.classList.add("hide"),r.classList.add("hide")};Ve.exports={showModal:Ht,hideModal:Ke}});var ve=O((gn,Ue)=>{var Bt=document.querySelectorAll("[data-form]"),q={};Array.from(Bt||[]).forEach(r=>{let e=r.id;q[e]={values:{}},r.querySelectorAll("input, textarea, select").forEach(n=>{q[e].values[n.name]=n.value,n.addEventListener("change",i=>{q[e].values[n.name]=i.target.value})});let t={...q[e].values};q[e].reset=()=>{q[e].values={...t}}});var Kt=r=>e=>{e.stopPropagation(),r&&r(e)},Vt=r=>e=>{e.preventDefault(),r&&r(e)};Ue.exports={formValues:q,stopPropagation:Kt,preventDefault:Vt}});var Qe=O(()=>{var{listenToTab:Gt}=fe(),{showModal:Ut}=Ge(),{getShortcuts:ge,setShortcuts:Ye}=te(),{formValues:j,stopPropagation:Yt,preventDefault:ze}=ve(),zt=document.querySelector("#shortcuts-add"),me=document.querySelector("#add-shortcut-modal"),Jt=document.querySelector("#add-shortcut-form"),Qt=document.querySelector("#add-shortcut-form-related");zt.addEventListener("click",Ut(me));me.addEventListener("click",Yt());Gt("add-shortcut","link",()=>{let r=document.querySelector("#shortcut-related");r.innerHTML=['<option disabled value=""></option>',...ge().map(({title:e,link:t})=>`<option value="${t}">${e}</option>`)],r.value=""});var Je=(r="")=>()=>{let e=r==="related"?"add-shortcut-form-related":"add-shortcut-form",t=Object.keys(j[e].values).filter(n=>j[e].values[n]==="");if(t.length>0){t.forEach(n=>{document.querySelector(`#${e} [name="${n}"]`).classList.add("error")});return}if(r==="related"){let n=ge(),i=n.find(s=>s.link===j["add-shortcut-form-related"].values.parent);if(!i)throw new Error("Shortcut not found");i.children.push(j["add-shortcut-form-related"].values),Ye(n)}else Ye([...ge(),{...j["add-shortcut-form"].values,children:[]}]);j["add-shortcut-form-related"].reset(),j["add-shortcut-form"].reset(),hideModal(me)()};Jt.addEventListener("submit",ze(Je()));Qt.addEventListener("submit",ze(Je("related")))});var gt=O((yn,vt)=>{"use strict";function Xe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Y(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xe(Object(t),!0).forEach(function(n){Me(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Xe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ye(r){return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(r)}function E(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ze(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function b(r,e,t){return e&&Ze(r.prototype,e),t&&Ze(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Me(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function N(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(r,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),writable:!1}),e&&Le(r,e)}function ie(r){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ie(r)}function Le(r,e){return Le=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Le(r,e)}function Xt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function er(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(r)}function R(r){var e=Xt();return function(){var n=ie(r),i;if(e){var s=ie(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return er(this,i)}}function H(r){return tr(r)||rr(r)||nr(r)||ir()}function tr(r){if(Array.isArray(r))return Se(r)}function rr(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function nr(r,e){if(r){if(typeof r=="string")return Se(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Se(r,e)}}function Se(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ir(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(r){return Array.isArray?Array.isArray(r):ot(r)==="[object Array]"}var sr=1/0;function ar(r){if(typeof r=="string")return r;var e=r+"";return e=="0"&&1/r==-sr?"-0":e}function or(r){return r==null?"":ar(r)}function $(r){return typeof r=="string"}function st(r){return typeof r=="number"}function cr(r){return r===!0||r===!1||ur(r)&&ot(r)=="[object Boolean]"}function at(r){return ye(r)==="object"}function ur(r){return at(r)&&r!==null}function x(r){return r!=null}function pe(r){return!r.trim().length}function ot(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}var hr="Incorrect 'index' type",lr=function(e){return"Invalid value for key ".concat(e)},fr=function(e){return"Pattern length exceeds max of ".concat(e,".")},dr=function(e){return"Missing ".concat(e," property in key")},vr=function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")},et=Object.prototype.hasOwnProperty,gr=function(){function r(e){var t=this;E(this,r),this._keys=[],this._keyMap={};var n=0;e.forEach(function(i){var s=ct(i);n+=s.weight,t._keys.push(s),t._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(function(i){i.weight/=n})}return b(r,[{key:"get",value:function(t){return this._keyMap[t]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),r}();function ct(r){var e=null,t=null,n=null,i=1,s=null;if($(r)||C(r))n=r,e=tt(r),t=_e(r);else{if(!et.call(r,"name"))throw new Error(dr("name"));var o=r.name;if(n=o,et.call(r,"weight")&&(i=r.weight,i<=0))throw new Error(vr(o));e=tt(o),t=_e(o),s=r.getFn}return{path:e,id:t,weight:i,src:n,getFn:s}}function tt(r){return C(r)?r:r.split(".")}function _e(r){return C(r)?r.join("."):r}function mr(r,e){var t=[],n=!1,i=function s(o,a,c){if(x(o))if(!a[c])t.push(o);else{var h=a[c],u=o[h];if(!x(u))return;if(c===a.length-1&&($(u)||st(u)||cr(u)))t.push(or(u));else if(C(u)){n=!0;for(var f=0,l=u.length;f<l;f+=1)s(u[f],a,c+1)}else a.length&&s(u,a,c+1)}};return i(r,$(e)?e.split("."):e,0),n?t:t[0]}var pr={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},yr={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},Mr={location:0,threshold:.6,distance:100},Lr={useExtendedSearch:!1,getFn:mr,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},d=Y(Y(Y(Y({},yr),pr),Mr),Lr),Sr=/[^ ]+/g;function _r(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,t=new Map,n=Math.pow(10,e);return{get:function(s){var o=s.match(Sr).length;if(t.has(o))return t.get(o);var a=1/Math.pow(o,.5*r),c=parseFloat(Math.round(a*n)/n);return t.set(o,c),c},clear:function(){t.clear()}}}var we=function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getFn,n=t===void 0?d.getFn:t,i=e.fieldNormWeight,s=i===void 0?d.fieldNormWeight:i;E(this,r),this.norm=_r(s,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}return b(r,[{key:"setSources",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=t}},{key:"setIndexRecords",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=t}},{key:"setKeys",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=n,this._keysMap={},n.forEach(function(i,s){t._keysMap[i.id]=s})}},{key:"create",value:function(){var t=this;this.isCreated||!this.docs.length||(this.isCreated=!0,$(this.docs[0])?this.docs.forEach(function(n,i){t._addString(n,i)}):this.docs.forEach(function(n,i){t._addObject(n,i)}),this.norm.clear())}},{key:"add",value:function(t){var n=this.size();$(t)?this._addString(t,n):this._addObject(t,n)}},{key:"removeAt",value:function(t){this.records.splice(t,1);for(var n=t,i=this.size();n<i;n+=1)this.records[n].i-=1}},{key:"getValueForItemAtKeyId",value:function(t,n){return t[this._keysMap[n]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(t,n){if(!(!x(t)||pe(t))){var i={v:t,i:n,n:this.norm.get(t)};this.records.push(i)}}},{key:"_addObject",value:function(t,n){var i=this,s={i:n,$:{}};this.keys.forEach(function(o,a){var c=o.getFn?o.getFn(t):i.getFn(t,o.path);if(x(c)){if(C(c))(function(){for(var u=[],f=[{nestedArrIndex:-1,value:c}];f.length;){var l=f.pop(),g=l.nestedArrIndex,v=l.value;if(x(v))if($(v)&&!pe(v)){var p={v,i:g,n:i.norm.get(v)};u.push(p)}else C(v)&&v.forEach(function(m,y){f.push({nestedArrIndex:y,value:m})})}s.$[a]=u})();else if($(c)&&!pe(c)){var h={v:c,n:i.norm.get(c)};s.$[a]=h}}}),this.records.push(s)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),r}();function ut(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.getFn,i=n===void 0?d.getFn:n,s=t.fieldNormWeight,o=s===void 0?d.fieldNormWeight:s,a=new we({getFn:i,fieldNormWeight:o});return a.setKeys(r.map(ct)),a.setSources(e),a.create(),a}function kr(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.getFn,n=t===void 0?d.getFn:t,i=e.fieldNormWeight,s=i===void 0?d.fieldNormWeight:i,o=r.keys,a=r.records,c=new we({getFn:n,fieldNormWeight:s});return c.setKeys(o),c.setIndexRecords(a),c}function ne(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.errors,n=t===void 0?0:t,i=e.currentLocation,s=i===void 0?0:i,o=e.expectedLocation,a=o===void 0?0:o,c=e.distance,h=c===void 0?d.distance:c,u=e.ignoreLocation,f=u===void 0?d.ignoreLocation:u,l=n/r.length;if(f)return l;var g=Math.abs(a-s);return h?l+g/h:g?1:l}function Er(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.minMatchCharLength,t=[],n=-1,i=-1,s=0,o=r.length;s<o;s+=1){var a=r[s];a&&n===-1?n=s:!a&&n!==-1&&(i=s-1,i-n+1>=e&&t.push([n,i]),n=-1)}return r[s-1]&&s-n>=e&&t.push([n,s-1]),t}var W=32;function br(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n.location,s=i===void 0?d.location:i,o=n.distance,a=o===void 0?d.distance:o,c=n.threshold,h=c===void 0?d.threshold:c,u=n.findAllMatches,f=u===void 0?d.findAllMatches:u,l=n.minMatchCharLength,g=l===void 0?d.minMatchCharLength:l,v=n.includeMatches,p=v===void 0?d.includeMatches:v,m=n.ignoreLocation,y=m===void 0?d.ignoreLocation:m;if(e.length>W)throw new Error(fr(W));for(var L=e.length,_=r.length,M=Math.max(0,Math.min(s,_)),S=h,k=M,w=g>1||p,P=w?Array(_):[],A;(A=r.indexOf(e,k))>-1;){var Ie=ne(e,{currentLocation:A,expectedLocation:M,distance:a,ignoreLocation:y});if(S=Math.min(Ie,S),k=A+L,w)for(var V=0;V<L;)P[A+V]=1,V+=1}k=-1;for(var G=[],Q=1,X=L+_,kt=1<<L-1,D=0;D<L;D+=1){for(var Z=0,T=X;Z<T;){var Et=ne(e,{errors:D,currentLocation:M+T,expectedLocation:M,distance:a,ignoreLocation:y});Et<=S?Z=T:X=T,T=Math.floor((X-Z)/2+Z)}X=T;var Oe=Math.max(1,M-T+1),oe=f?_:Math.min(M+T,_)+L,U=Array(oe+2);U[oe+1]=(1<<D)-1;for(var I=oe;I>=Oe;I-=1){var ee=I-1,$e=t[r.charAt(ee)];if(w&&(P[ee]=+!!$e),U[I]=(U[I+1]<<1|1)&$e,D&&(U[I]|=(G[I+1]|G[I])<<1|1|G[I+1]),U[I]&kt&&(Q=ne(e,{errors:D,currentLocation:ee,expectedLocation:M,distance:a,ignoreLocation:y}),Q<=S)){if(S=Q,k=ee,k<=M)break;Oe=Math.max(1,2*M-k)}}var bt=ne(e,{errors:D+1,currentLocation:M,expectedLocation:M,distance:a,ignoreLocation:y});if(bt>S)break;G=U}var ce={isMatch:k>=0,score:Math.max(.001,Q)};if(w){var Ce=Er(P,g);Ce.length?p&&(ce.indices=Ce):ce.isMatch=!1}return ce}function xr(r){for(var e={},t=0,n=r.length;t<n;t+=1){var i=r.charAt(t);e[i]=(e[i]||0)|1<<n-t-1}return e}var ht=function(){function r(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.location,s=i===void 0?d.location:i,o=n.threshold,a=o===void 0?d.threshold:o,c=n.distance,h=c===void 0?d.distance:c,u=n.includeMatches,f=u===void 0?d.includeMatches:u,l=n.findAllMatches,g=l===void 0?d.findAllMatches:l,v=n.minMatchCharLength,p=v===void 0?d.minMatchCharLength:v,m=n.isCaseSensitive,y=m===void 0?d.isCaseSensitive:m,L=n.ignoreLocation,_=L===void 0?d.ignoreLocation:L;if(E(this,r),this.options={location:s,threshold:a,distance:h,includeMatches:f,findAllMatches:g,minMatchCharLength:p,isCaseSensitive:y,ignoreLocation:_},this.pattern=y?e:e.toLowerCase(),this.chunks=[],!!this.pattern.length){var M=function(V,G){t.chunks.push({pattern:V,alphabet:xr(V),startIndex:G})},S=this.pattern.length;if(S>W){for(var k=0,w=S%W,P=S-w;k<P;)M(this.pattern.substr(k,W),k),k+=W;if(w){var A=S-W;M(this.pattern.substr(A),A)}}else M(this.pattern,0)}}return b(r,[{key:"searchIn",value:function(t){var n=this.options,i=n.isCaseSensitive,s=n.includeMatches;if(i||(t=t.toLowerCase()),this.pattern===t){var o={isMatch:!0,score:0};return s&&(o.indices=[[0,t.length-1]]),o}var a=this.options,c=a.location,h=a.distance,u=a.threshold,f=a.findAllMatches,l=a.minMatchCharLength,g=a.ignoreLocation,v=[],p=0,m=!1;this.chunks.forEach(function(L){var _=L.pattern,M=L.alphabet,S=L.startIndex,k=br(t,_,M,{location:c+S,distance:h,threshold:u,findAllMatches:f,minMatchCharLength:l,includeMatches:s,ignoreLocation:g}),w=k.isMatch,P=k.score,A=k.indices;w&&(m=!0),p+=P,w&&A&&(v=[].concat(H(v),H(A)))});var y={isMatch:m,score:m?p/this.chunks.length:1};return m&&s&&(y.indices=v),y}}]),r}(),F=function(){function r(e){E(this,r),this.pattern=e}return b(r,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(t){return rt(t,this.multiRegex)}},{key:"isSingleMatch",value:function(t){return rt(t,this.singleRegex)}}]),r}();function rt(r,e){var t=r.match(e);return t?t[1]:null}var wr=function(r){N(t,r);var e=R(t);function t(n){return E(this,t),e.call(this,n)}return b(t,[{key:"search",value:function(i){var s=i===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),t}(F),Ar=function(r){N(t,r);var e=R(t);function t(n){return E(this,t),e.call(this,n)}return b(t,[{key:"search",value:function(i){var s=i.indexOf(this.pattern),o=s===-1;return{isMatch:o,score:o?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),t}(F),Ir=function(r){N(t,r);var e=R(t);function t(n){return E(this,t),e.call(this,n)}return b(t,[{key:"search",value:function(i){var s=i.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),t}(F),Or=function(r){N(t,r);var e=R(t);function t(n){return E(this,t),e.call(this,n)}return b(t,[{key:"search",value:function(i){var s=!i.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),t}(F),$r=function(r){N(t,r);var e=R(t);function t(n){return E(this,t),e.call(this,n)}return b(t,[{key:"search",value:function(i){var s=i.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),t}(F),Cr=function(r){N(t,r);var e=R(t);function t(n){return E(this,t),e.call(this,n)}return b(t,[{key:"search",value:function(i){var s=!i.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),t}(F),lt=function(r){N(t,r);var e=R(t);function t(n){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.location,a=o===void 0?d.location:o,c=s.threshold,h=c===void 0?d.threshold:c,u=s.distance,f=u===void 0?d.distance:u,l=s.includeMatches,g=l===void 0?d.includeMatches:l,v=s.findAllMatches,p=v===void 0?d.findAllMatches:v,m=s.minMatchCharLength,y=m===void 0?d.minMatchCharLength:m,L=s.isCaseSensitive,_=L===void 0?d.isCaseSensitive:L,M=s.ignoreLocation,S=M===void 0?d.ignoreLocation:M;return E(this,t),i=e.call(this,n),i._bitapSearch=new ht(n,{location:a,threshold:h,distance:f,includeMatches:g,findAllMatches:p,minMatchCharLength:y,isCaseSensitive:_,ignoreLocation:S}),i}return b(t,[{key:"search",value:function(i){return this._bitapSearch.searchIn(i)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),t}(F),ft=function(r){N(t,r);var e=R(t);function t(n){return E(this,t),e.call(this,n)}return b(t,[{key:"search",value:function(i){for(var s=0,o,a=[],c=this.pattern.length;(o=i.indexOf(this.pattern,s))>-1;)s=o+c,a.push([o,s-1]);var h=!!a.length;return{isMatch:h,score:h?0:1,indices:a}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),t}(F),ke=[wr,ft,Ir,Or,Cr,$r,Ar,lt],nt=ke.length,Tr=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Nr="|";function Rr(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.split(Nr).map(function(t){for(var n=t.trim().split(Tr).filter(function(v){return v&&!!v.trim()}),i=[],s=0,o=n.length;s<o;s+=1){for(var a=n[s],c=!1,h=-1;!c&&++h<nt;){var u=ke[h],f=u.isMultiMatch(a);f&&(i.push(new u(f,e)),c=!0)}if(!c)for(h=-1;++h<nt;){var l=ke[h],g=l.isSingleMatch(a);if(g){i.push(new l(g,e));break}}}return i})}var Fr=new Set([lt.type,ft.type]),Pr=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.isCaseSensitive,i=n===void 0?d.isCaseSensitive:n,s=t.includeMatches,o=s===void 0?d.includeMatches:s,a=t.minMatchCharLength,c=a===void 0?d.minMatchCharLength:a,h=t.ignoreLocation,u=h===void 0?d.ignoreLocation:h,f=t.findAllMatches,l=f===void 0?d.findAllMatches:f,g=t.location,v=g===void 0?d.location:g,p=t.threshold,m=p===void 0?d.threshold:p,y=t.distance,L=y===void 0?d.distance:y;E(this,r),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:c,findAllMatches:l,ignoreLocation:u,location:v,threshold:m,distance:L},this.pattern=i?e:e.toLowerCase(),this.query=Rr(this.pattern,this.options)}return b(r,[{key:"searchIn",value:function(t){var n=this.query;if(!n)return{isMatch:!1,score:1};var i=this.options,s=i.includeMatches,o=i.isCaseSensitive;t=o?t:t.toLowerCase();for(var a=0,c=[],h=0,u=0,f=n.length;u<f;u+=1){var l=n[u];c.length=0,a=0;for(var g=0,v=l.length;g<v;g+=1){var p=l[g],m=p.search(t),y=m.isMatch,L=m.indices,_=m.score;if(y){if(a+=1,h+=_,s){var M=p.constructor.type;Fr.has(M)?c=[].concat(H(c),H(L)):c.push(L)}}else{h=0,a=0,c.length=0;break}}if(a){var S={isMatch:!0,score:h/a};return s&&(S.indices=c),S}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(t,n){return n.useExtendedSearch}}]),r}(),se=[];function Dr(){se.push.apply(se,arguments)}function Ee(r,e){for(var t=0,n=se.length;t<n;t+=1){var i=se[t];if(i.condition(r,e))return new i(r,e)}return new ht(r,e)}var ae={AND:"$and",OR:"$or"},be={PATH:"$path",PATTERN:"$val"},xe=function(e){return!!(e[ae.AND]||e[ae.OR])},qr=function(e){return!!e[be.PATH]},jr=function(e){return!C(e)&&at(e)&&!xe(e)},it=function(e){return Me({},ae.AND,Object.keys(e).map(function(t){return Me({},t,e[t])}))};function dt(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.auto,i=n===void 0?!0:n,s=function o(a){var c=Object.keys(a),h=qr(a);if(!h&&c.length>1&&!xe(a))return o(it(a));if(jr(a)){var u=h?a[be.PATH]:c[0],f=h?a[be.PATTERN]:a[u];if(!$(f))throw new Error(lr(u));var l={keyId:_e(u),pattern:f};return i&&(l.searcher=Ee(f,e)),l}var g={children:[],operator:c[0]};return c.forEach(function(v){var p=a[v];C(p)&&p.forEach(function(m){g.children.push(o(m))})}),g};return xe(r)||(r=it(r)),s(r)}function Wr(r,e){var t=e.ignoreFieldNorm,n=t===void 0?d.ignoreFieldNorm:t;r.forEach(function(i){var s=1;i.matches.forEach(function(o){var a=o.key,c=o.norm,h=o.score,u=a?a.weight:null;s*=Math.pow(h===0&&u?Number.EPSILON:h,(u||1)*(n?1:c))}),i.score=s})}function Hr(r,e){var t=r.matches;e.matches=[],x(t)&&t.forEach(function(n){if(!(!x(n.indices)||!n.indices.length)){var i=n.indices,s=n.value,o={indices:i,value:s};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),e.matches.push(o)}})}function Br(r,e){e.score=r.score}function Kr(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.includeMatches,i=n===void 0?d.includeMatches:n,s=t.includeScore,o=s===void 0?d.includeScore:s,a=[];return i&&a.push(Hr),o&&a.push(Br),r.map(function(c){var h=c.idx,u={item:e[h],refIndex:h};return a.length&&a.forEach(function(f){f(c,u)}),u})}var z=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;E(this,r),this.options=Y(Y({},d),t),this.options.useExtendedSearch,this._keyStore=new gr(this.options.keys),this.setCollection(e,n)}return b(r,[{key:"setCollection",value:function(t,n){if(this._docs=t,n&&!(n instanceof we))throw new Error(hr);this._myIndex=n||ut(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(t){x(t)&&(this._docs.push(t),this._myIndex.add(t))}},{key:"remove",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},n=[],i=0,s=this._docs.length;i<s;i+=1){var o=this._docs[i];t(o,i)&&(this.removeAt(i),i-=1,s-=1,n.push(o))}return n}},{key:"removeAt",value:function(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.limit,s=i===void 0?-1:i,o=this.options,a=o.includeMatches,c=o.includeScore,h=o.shouldSort,u=o.sortFn,f=o.ignoreFieldNorm,l=$(t)?$(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Wr(l,{ignoreFieldNorm:f}),h&&l.sort(u),st(s)&&s>-1&&(l=l.slice(0,s)),Kr(l,this._docs,{includeMatches:a,includeScore:c})}},{key:"_searchStringList",value:function(t){var n=Ee(t,this.options),i=this._myIndex.records,s=[];return i.forEach(function(o){var a=o.v,c=o.i,h=o.n;if(x(a)){var u=n.searchIn(a),f=u.isMatch,l=u.score,g=u.indices;f&&s.push({item:a,idx:c,matches:[{score:l,value:a,norm:h,indices:g}]})}}),s}},{key:"_searchLogical",value:function(t){var n=this,i=dt(t,this.options),s=function h(u,f,l){if(!u.children){var g=u.keyId,v=u.searcher,p=n._findMatches({key:n._keyStore.get(g),value:n._myIndex.getValueForItemAtKeyId(f,g),searcher:v});return p&&p.length?[{idx:l,item:f,matches:p}]:[]}for(var m=[],y=0,L=u.children.length;y<L;y+=1){var _=u.children[y],M=h(_,f,l);if(M.length)m.push.apply(m,H(M));else if(u.operator===ae.AND)return[]}return m},o=this._myIndex.records,a={},c=[];return o.forEach(function(h){var u=h.$,f=h.i;if(x(u)){var l=s(i,u,f);l.length&&(a[f]||(a[f]={idx:f,item:u,matches:[]},c.push(a[f])),l.forEach(function(g){var v,p=g.matches;(v=a[f].matches).push.apply(v,H(p))}))}}),c}},{key:"_searchObjectList",value:function(t){var n=this,i=Ee(t,this.options),s=this._myIndex,o=s.keys,a=s.records,c=[];return a.forEach(function(h){var u=h.$,f=h.i;if(x(u)){var l=[];o.forEach(function(g,v){l.push.apply(l,H(n._findMatches({key:g,value:u[v],searcher:i})))}),l.length&&c.push({idx:f,item:u,matches:l})}}),c}},{key:"_findMatches",value:function(t){var n=t.key,i=t.value,s=t.searcher;if(!x(i))return[];var o=[];if(C(i))i.forEach(function(g){var v=g.v,p=g.i,m=g.n;if(x(v)){var y=s.searchIn(v),L=y.isMatch,_=y.score,M=y.indices;L&&o.push({score:_,key:n,value:v,idx:p,norm:m,indices:M})}});else{var a=i.v,c=i.n,h=s.searchIn(a),u=h.isMatch,f=h.score,l=h.indices;u&&o.push({score:f,key:n,value:a,norm:c,indices:l})}return o}}]),r}();z.version="6.6.2";z.createIndex=ut;z.parseIndex=kr;z.config=d;z.parseQuery=dt;Dr(Pr);var Vr=z;vt.exports=Vr});var yt=O(()=>{var Mn=gt(),{formValues:Gr,preventDefault:Ur}=ve(),{getBookmarks:Yr,subscribeBookmarks:zr}=le(),{getShortcuts:Jr,subscribeShortcuts:Qr}=te(),J=document.querySelector("#search-everything"),B=document.querySelector("#search-form input[name=search]"),mt=document.querySelector("#search-form"),K=()=>J.querySelectorAll(".search-option"),pt=()=>{let r=Ae(Yr()),e=Ae(Jr());J.innerHTML=[...r,...e].map(t=>`<div class="search-option" data-value="${t.link}" data-title="${t.title}"><h3>${t.title}</h3><h4>${t.link}</h4></div>`).join(""),Array.from(K()).forEach(t=>{t.addEventListener("mouseenter",()=>{Array.from(K()).forEach(n=>n.classList.remove("hover")),t.classList.add("hover")}),t.addEventListener("click",n=>{B.value=t.dataset.value;let i=new Event("change",{bubbles:!0});B.dispatchEvent(i),mt.dispatchEvent(new Event("submit"))})})},Ae=r=>r.reduce((e,t)=>t.link?t.children?[...e,t,...Ae(t.children)]:[...e,t]:e,[]);B.addEventListener("keydown",r=>{r.key==="Escape"&&(B.value="",B.focus(),J.classList.remove("show"),Array.from(K()).forEach(t=>t.classList.remove("hover")));let e=Array.from(K()).filter(t=>!t.classList.contains("hide"));if(r.key==="ArrowDown"){if(r.preventDefault(),e.length===0)return;let t=e.find(i=>i.classList.contains("hover"));if(t){let i=e.indexOf(t),s=e[i+1];s?(t.classList.remove("hover"),s.classList.add("hover")):(t.classList.remove("hover"),e[0].classList.add("hover"))}else e[0].classList.add("hover");let n=e.find(i=>i.classList.contains("hover"));n&&n.scrollIntoView({behavior:"smooth",block:"nearest"})}else if(r.key==="ArrowUp"){if(r.preventDefault(),e.length===0)return;let t=e.find(i=>i.classList.contains("hover"));if(t){let i=e.indexOf(t),s=e[i-1];s?(t.classList.remove("hover"),s.classList.add("hover")):(t.classList.remove("hover"),e[e.length-1].classList.add("hover"))}else e[e.length-1].classList.add("hover");let n=e.find(i=>i.classList.contains("hover"));n&&n.scrollIntoView({behavior:"smooth",block:"nearest"})}else if(r.key==="Enter"){if(e.length===0)return;let t=e.find(n=>n.classList.contains("hover"));t&&t.click()}});var Xr=(r,e)=>{let t;return(...n)=>{clearTimeout(t),t=setTimeout(()=>r(...n),e)}};B.addEventListener("input",Xr(r=>{let e=r.target.value;if(!e){J.classList.remove("show");return}Array.from(K()).forEach(i=>i.classList.remove("hover"));let t=Array.from(K()).map(i=>({title:i.dataset.title,link:i.dataset.value,option:i})),n=Zr(e,t);Array.from(K()).forEach(i=>n.some(s=>s.title===i.dataset.title&&s.link===i.dataset.value)?i.classList.remove("hide"):i.classList.add("hide")),e&&n.length>0&&J.classList.add("show")},200));function Zr(r,e){let t=e.filter(i=>{let s=i.title.toLowerCase(),o=i.link.toLowerCase();if(!o)return!1;let a=r.toLowerCase();return s.includes(a)||o.includes(a)}),n=[];return t.forEach(i=>{n.some(s=>s.title===i.title&&s.link===i.link)||n.push(i)}),n.slice(0,10)}var en=()=>{let r=Gr["search-form"].values.search;if(r)if(tn(r)){!r.startsWith("http://")&&!r.startsWith("https://")&&(r="http://"+r);let e=new URL(r);window.location.href=e}else{let e=new URL("https://www.google.com/search");e.searchParams.set("q",r),window.location.href=e}};function tn(r){return/^(?:(?:https?|ftp):\/\/)?(?:www\.)?[^\s\/]+\.[^\s\/]+/.test(r)}mt.addEventListener("submit",Ur(en));B.focus();zr(pt);Qr(pt)});te();le();Qe();fe();yt();var rn=document.querySelector("#greeting #time-state"),nn=document.querySelector("#greeting #greeting-info #date"),sn=document.querySelector("#greeting #greeting-info #time"),_n=document.querySelector("#greeting #greeting-info #weather"),Mt={"19-24":"Good night!","24-3":"Nice night, isn't it?","3-8":"You should be sleeping...","8-12":"Good morning!","12-15":"Lunch time!","15-19":"Nice Evening"},an=Object.keys(Mt).map(r=>{let[e,t]=r.split("-").map(i=>parseInt(i));e=e===24?0:e;let n=[];for(let i=e+1;i<=t;i++)n.push(i===24?0:i);return[Mt[r],n]}).reduce((r,[e,t])=>(t.forEach(n=>r[n]=e),r),{}),Lt=()=>{let e=new Date().getHours();rn.innerText=an[e]};Lt();setInterval(Lt,6e4);var on={1:"1st",2:"2nd",3:"3rd"},St=()=>{let r=new Date;nn.innerHTML=r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).replace(/,\s\d+$/,"").replace(/(\d+)$/,e=>{let t=e.padStart(2,"0");return(t[0]+(on[t[1]]||t[1]+"th")).replace(/^0/,"")})},_t=()=>{let r=new Date,e=r.getHours().toString().padStart(2,"0"),t=r.getMinutes().toString().padStart(2,"0");sn.innerHTML=`${e}:${t}`};St();_t();setInterval(()=>{St(),_t()},1e3);})();
//# sourceMappingURL=index.build.js.map
